<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Control de Horas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- LOGIN -->
<div id="auth-container">
  <h2>Iniciar sesiÃ³n</h2>

  <input type="email" id="email" placeholder="Email">
  <input type="password" id="password" placeholder="ContraseÃ±a">

  <button onclick="login()">Entrar</button>
  <button onclick="register()">Crear cuenta</button>
</div>

<!-- APP (OCULTA HASTA LOGIN) -->
<div id="app" style="display:none;">

  <section class="dashboard">
    <div class="card-dashboard">
      <span class="label">ğŸ’° Total</span>
      <span class="value" id="totalMoney">$0</span>
    </div>

    <div class="card-dashboard">
      <span class="label">â± Horas</span>
      <span class="value" id="totalHours">â€”</span>
    </div>

    <div class="card-dashboard">
      <span class="label">ğŸ“… PerÃ­odo</span>
      <span class="value" id="periodo">--</span>
    </div>
  </section>

  <div class="container">
    <h1>ğŸ•’ Control de Horas</h1>

    <button onclick="logout()">Cerrar sesiÃ³n</button>

    <div class="meses-container">
      <button class="mes-btn" data-month="1">Ene</button>
      <button class="mes-btn" data-month="2">Feb</button>
      <button class="mes-btn" data-month="3">Mar</button>
      <button class="mes-btn" data-month="4">Abr</button>
      <button class="mes-btn" data-month="5">May</button>
      <button class="mes-btn" data-month="6">Jun</button>
      <button class="mes-btn" data-month="7">Jul</button>
      <button class="mes-btn" data-month="8">Ago</button>
      <button class="mes-btn" data-month="9">Sep</button>
      <button class="mes-btn" data-month="10">Oct</button>
      <button class="mes-btn" data-month="11">Nov</button>
      <button class="mes-btn" data-month="12">Dic</button>
    </div>

    <label>Fecha</label>
    <input type="date" id="date">

    <label>Hora inicio</label>
    <input type="time" id="start">

    <label>Hora fin</label>
    <input type="time" id="end">

    <label>Sector</label>
    <select id="sector">
      <option value="">Seleccionar sector</option>
      <option value="Urgencia Domiciliaria">Urgencia Domiciliaria</option>
      <option value="Triage">Triage</option>
    </select>

    <button onclick="guardarHoras()">Guardar horas</button>
<p id="mensajeExito" class="mensaje-exito oculto">
  âœ… Hora guardada correctamente
</p>
<p id="mensajeBorrado" class="mensaje-exito oculto">
  ğŸ—‘ Hora eliminada correctamente
</p>
    <h2>Detalle</h2>
<div class="detalle-card">
  <div id="resultado"></div>
</div>

  </div>
</div>

<!-- SUPABASE -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="auth.js"></script>
<script src="script.js"></script>

</body>
</html>